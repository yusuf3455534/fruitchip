#include "pico/platform/sections.h"

#include <boot_rom/loader.h>

// OSDSYS patch that launches stage 2
const uint8_t __not_in_flash("ee_stage1") LOADER_EE_STAGE_1[] = {
    #embed "${LOADER_INSTALL_PREFIX}/fruitchip-loader-ee-stage1.bin"
};

const uint32_t LOADER_EE_STAGE_1_SIZE = sizeof(LOADER_EE_STAGE_1);

static_assert((LOADER_EE_STAGE_1_SIZE + 4) <= 0x62C); // + crc

// ELF loader that launches stage 3 ELF
const uint8_t __in_flash("ee_stage2") LOADER_EE_STAGE_2[] = {
    #embed "${LOADER_INSTALL_PREFIX}/fruitchip-loader-ee-stage2.bin"
};

const uint32_t LOADER_EE_STAGE_2_SIZE = sizeof(LOADER_EE_STAGE_2);

const uint8_t __in_flash("ee_stage3") LOADER_EE_STAGE_3[] = {
    #embed "${MENU_INSTALL_PREFIX}/fruitchip-menu-packed.elf"
};

const uint32_t LOADER_EE_STAGE_3_SIZE = sizeof(LOADER_EE_STAGE_3);
